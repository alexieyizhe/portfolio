{"code":"import { spring, tween, action, easing, pointer, transform } from 'popmotion';\r\nimport { eachValue } from './transition-composers';\r\nimport { BoundingBoxDimension } from '../types';\r\nimport { percent } from 'style-value-types';\r\nvar linear = easing.linear;\r\nvar interpolate = transform.interpolate;\r\nvar singleAxisPointer = function (axis) { return function (from) {\r\n    var _a;\r\n    return pointer((_a = {}, _a[axis] = from, _a)).pipe(function (v) { return v[axis]; });\r\n}; };\r\nvar pointerX = singleAxisPointer('x');\r\nvar pointerY = singleAxisPointer('y');\r\nvar createPointer = function (axisPointerCreator, min, max, measurement) { return function (_a) {\r\n    var from = _a.from, type = _a.type, dimensions = _a.dimensions, dragBounds = _a.dragBounds;\r\n    var axisPointer = axisPointerCreator(dimensions.measurementAsPixels(measurement, from, type));\r\n    var transformQueue = [];\r\n    if (dragBounds) {\r\n        if (dragBounds[min] !== undefined)\r\n            transformQueue.push(function (v) {\r\n                return Math.max(v, dimensions.measurementAsPixels(measurement, dragBounds[min], type));\r\n            });\r\n        if (dragBounds[max] !== undefined)\r\n            transformQueue.push(function (v) {\r\n                return Math.min(v, dimensions.measurementAsPixels(measurement, dragBounds[max], type));\r\n            });\r\n    }\r\n    if (type === percent) {\r\n        transformQueue.push(interpolate([0, dimensions.get(measurement)], [0, 100]));\r\n    }\r\n    return transformQueue.length\r\n        ? axisPointer.pipe.apply(axisPointer, transformQueue) : axisPointer;\r\n}; };\r\nexport var just = function (from) {\r\n    return action(function (_a) {\r\n        var update = _a.update, complete = _a.complete;\r\n        update(from);\r\n        complete();\r\n    });\r\n};\r\nvar underDampedSpring = function (_a) {\r\n    var from = _a.from, velocity = _a.velocity, to = _a.to;\r\n    return spring({\r\n        from: from,\r\n        to: to,\r\n        velocity: velocity,\r\n        stiffness: 500,\r\n        damping: 25,\r\n        restDelta: 0.5,\r\n        restSpeed: 10\r\n    });\r\n};\r\nvar overDampedSpring = function (_a) {\r\n    var from = _a.from, velocity = _a.velocity, to = _a.to;\r\n    return spring({ from: from, to: to, velocity: velocity, stiffness: 700, damping: to === 0 ? 100 : 35 });\r\n};\r\nvar linearTween = function (_a) {\r\n    var from = _a.from, to = _a.to;\r\n    return tween({ from: from, to: to, ease: linear });\r\n};\r\nvar intelligentTransition = eachValue({\r\n    x: underDampedSpring,\r\n    y: underDampedSpring,\r\n    z: underDampedSpring,\r\n    rotate: underDampedSpring,\r\n    rotateX: underDampedSpring,\r\n    rotateY: underDampedSpring,\r\n    rotateZ: underDampedSpring,\r\n    scaleX: overDampedSpring,\r\n    scaleY: overDampedSpring,\r\n    scale: overDampedSpring,\r\n    opacity: linearTween,\r\n    default: tween\r\n});\r\nvar dragAction = eachValue({\r\n    x: createPointer(pointerX, 'left', 'right', BoundingBoxDimension.width),\r\n    y: createPointer(pointerY, 'top', 'bottom', BoundingBoxDimension.height)\r\n});\r\nvar intelligentDragEnd = function (_a) {\r\n    var from = _a.from;\r\n    return just(from);\r\n};\r\nexport default new Map([\r\n    ['default', intelligentTransition],\r\n    ['dragging', dragAction],\r\n    ['dragEnd', intelligentDragEnd]\r\n]);\r\n//# sourceMappingURL=default-transitions.js.map","map":"{\"version\":3,\"file\":\"default-transitions.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/inc/default-transitions.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;AAE9E,OAAO,EAAE,SAAS,EAAE,MAAM,wBAAwB,CAAC;AACnD,OAAO,EAAc,oBAAoB,EAAE,MAAM,UAAU,CAAC;AAC5D,OAAO,EAAE,OAAO,EAAE,MAAM,mBAAmB,CAAC;AACpC,IAAA,sBAAM,CAAY;AAClB,IAAA,mCAAW,CAAe;AAElC,IAAM,iBAAiB,GAAG,UAAC,IAAY,IAAK,OAAA,UAAC,IAAY;;IACvD,OAAA,OAAO,WAAG,GAAC,IAAI,IAAG,IAAI,MAAG,CAAC,IAAI,CAAC,UAAC,CAAM,IAAK,OAAA,CAAC,CAAC,IAAI,CAAC,EAAP,CAAO,CAAC;AAAnD,CAAmD,EADT,CACS,CAAC;AACtD,IAAM,QAAQ,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;AACxC,IAAM,QAAQ,GAAG,iBAAiB,CAAC,GAAG,CAAC,CAAC;AAExC,IAAM,aAAa,GAAG,UACpB,kBAA4C,EAC5C,GAAW,EACX,GAAW,EACX,WAAiC,IAClB,OAAA,UAAC,EAAsC;QAApC,cAAI,EAAE,cAAI,EAAE,0BAAU,EAAE,0BAAU;IACpD,IAAM,WAAW,GAAG,kBAAkB,CACpC,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CACxD,CAAC;IACF,IAAM,cAAc,GAAiC,EAAE,CAAC;IAExD,IAAI,UAAU,EAAE;QACd,IAAI,UAAU,CAAC,GAAG,CAAC,KAAK,SAAS;YAC/B,cAAc,CAAC,IAAI,CAAC,UAAC,CAAS;gBAC5B,OAAA,IAAI,CAAC,GAAG,CACN,CAAC,EACD,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,UAAU,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CACnE;YAHD,CAGC,CACF,CAAC;QACJ,IAAI,UAAU,CAAC,GAAG,CAAC,KAAK,SAAS;YAC/B,cAAc,CAAC,IAAI,CAAC,UAAC,CAAS;gBAC5B,OAAA,IAAI,CAAC,GAAG,CACN,CAAC,EACD,UAAU,CAAC,mBAAmB,CAAC,WAAW,EAAE,UAAU,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,CACnE;YAHD,CAGC,CACF,CAAC;KACL;IAID,IAAI,IAAI,KAAK,OAAO,EAAE;QACpB,cAAc,CAAC,IAAI,CACjB,WAAW,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,GAAG,CAAC,WAAW,CAAW,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAClE,CAAC;KACH;IAED,OAAO,cAAc,CAAC,MAAM;QAC1B,CAAC,CAAC,WAAW,CAAC,IAAI,OAAhB,WAAW,EAAS,cAAc,EACpC,CAAC,CAAC,WAAW,CAAC;AAClB,CAAC,EAlCgB,CAkChB,CAAC;AAEF,MAAM,CAAC,IAAM,IAAI,GAAG,UAAC,IAAS;IAC5B,OAAA,MAAM,CAAC,UAAC,EAAoB;YAAlB,kBAAM,EAAE,sBAAQ;QACxB,MAAM,CAAC,IAAI,CAAC,CAAC;QACb,QAAQ,EAAE,CAAC;IACb,CAAC,CAAC;AAHF,CAGE,CAAC;AAEL,IAAM,iBAAiB,GAAe,UAAC,EAAsB;QAApB,cAAI,EAAE,sBAAQ,EAAE,UAAE;IACzD,OAAA,MAAM,CAAC;QACL,IAAI,MAAA;QACJ,EAAE,IAAA;QACF,QAAQ,UAAA;QACR,SAAS,EAAE,GAAG;QACd,OAAO,EAAE,EAAE;QACX,SAAS,EAAE,GAAG;QACd,SAAS,EAAE,EAAE;KACd,CAAC;AARF,CAQE,CAAC;AACL,IAAM,gBAAgB,GAAe,UAAC,EAAsB;QAApB,cAAI,EAAE,sBAAQ,EAAE,UAAE;IACxD,OAAA,MAAM,CAAC,EAAE,IAAI,MAAA,EAAE,EAAE,IAAA,EAAE,QAAQ,UAAA,EAAE,SAAS,EAAE,GAAG,EAAE,OAAO,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAA5E,CAA4E,CAAC;AAE/E,IAAM,WAAW,GAAe,UAAC,EAAY;QAAV,cAAI,EAAE,UAAE;IACzC,OAAA,KAAK,CAAC,EAAE,IAAI,MAAA,EAAE,EAAE,IAAA,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;AAAjC,CAAiC,CAAC;AAGpC,IAAM,qBAAqB,GAAe,SAAS,CAAC;IAClD,CAAC,EAAE,iBAAiB;IACpB,CAAC,EAAE,iBAAiB;IACpB,CAAC,EAAE,iBAAiB;IACpB,MAAM,EAAE,iBAAiB;IACzB,OAAO,EAAE,iBAAiB;IAC1B,OAAO,EAAE,iBAAiB;IAC1B,OAAO,EAAE,iBAAiB;IAC1B,MAAM,EAAE,gBAAgB;IACxB,MAAM,EAAE,gBAAgB;IACxB,KAAK,EAAE,gBAAgB;IACvB,OAAO,EAAE,WAAW;IACpB,OAAO,EAAE,KAAK;CACf,CAAC,CAAC;AAEH,IAAM,UAAU,GAAe,SAAS,CAAC;IACvC,CAAC,EAAE,aAAa,CAAC,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,oBAAoB,CAAC,KAAK,CAAC;IACvE,CAAC,EAAE,aAAa,CAAC,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAE,oBAAoB,CAAC,MAAM,CAAC;CACzE,CAAC,CAAC;AAGH,IAAM,kBAAkB,GAAe,UAAC,EAAQ;QAAN,cAAI;IAAO,OAAA,IAAI,CAAC,IAAI,CAAC;AAAV,CAAU,CAAC;AAEhE,eAAe,IAAI,GAAG,CAAqB;IACzC,CAAC,SAAS,EAAE,qBAAqB,CAAC;IAClC,CAAC,UAAU,EAAE,UAAU,CAAC;IACxB,CAAC,SAAS,EAAE,kBAAkB,CAAC;CAChC,CAAC,CAAC\"}"}
